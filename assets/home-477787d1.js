import{c as ze,d as Q,r as v,u as Se,w as K,o as Ie,a as ge,b as Fe,e as Re,f as p,m as Be,g as Pe,t as Ue,n as Ae,h as fe,i as Ee,L as Ne,j as Oe,s as ee,k as d,l as u,p as V,q as _,v as s,x as oe,y as o,z as a,A as De,B as q,C as f,D as ke,F as G,E as m,G as Y,H as J,I as je,J as Me,K as He,M as Ve,N as _e,O as qe,P as B,Q as he,R as xe,S as P,T as Ge,U as W,V as We,W as Ye,X as Je,_ as Ke}from"./index-1f7c36f7.js";import{I as se,E as Qe}from"./index-590f676d.js";import{u as Xe,T as Ze,a as me}from"./universalTransition-2bbbd66b.js";import{E as be}from"./earnRate-551021e3.js";const[eo,O,oo]=ze("list"),so={error:Boolean,offset:Be(300),loading:Boolean,disabled:Boolean,finished:Boolean,errorText:String,direction:Pe("down"),loadingText:String,finishedText:String,immediateCheck:Ue};var no=Q({name:eo,props:so,emits:["load","update:error","update:loading"],setup(c,{emit:h,slots:i}){const k=v(c.loading),x=v(),e=v(),t=Xe(),$=Se(x),y=()=>{Ae(()=>{if(k.value||c.finished||c.disabled||c.error||(t==null?void 0:t.value)===!1)return;const{direction:g}=c,w=+c.offset,C=fe($);if(!C.height||Ee(x))return;let A=!1;const z=fe(e);g==="up"?A=C.top-z.top<=w:A=z.bottom-C.bottom<=w,A&&(k.value=!0,h("update:loading",!0),h("load"))})},U=()=>{if(c.finished){const g=i.finished?i.finished():c.finishedText;if(g)return p("div",{class:O("finished-text")},[g])}},T=()=>{h("update:error",!1),y()},D=()=>{if(c.error){const g=i.error?i.error():c.errorText;if(g)return p("div",{role:"button",class:O("error-text"),tabindex:0,onClick:T},[g])}},I=()=>{if(k.value&&!c.finished&&!c.disabled)return p("div",{class:O("loading")},[i.loading?i.loading():p(Ne,{class:O("loading-icon")},{default:()=>[c.loadingText||oo("loading")]})])};return K(()=>[c.loading,c.finished,c.error],y),t&&K(t,g=>{g&&y()}),Ie(()=>{k.value=c.loading}),ge(()=>{c.immediateCheck&&y()}),Fe({check:y}),Re("scroll",y,{target:$,passive:!0}),()=>{var g;const w=(g=i.default)==null?void 0:g.call(i),C=p("div",{ref:e,class:O("placeholder")},null);return p("div",{ref:x,role:"feed",class:O(),"aria-busy":k.value},[c.direction==="down"?w:C,I(),U(),D(),c.direction==="up"?w:C])}}});const to=Oe(no);function lo({cursor:c,limit:h}){return ee({method:"post",url:"/active",data:{cursor:c,limit:h}})}function ao({cursor:c,limit:h}){return ee({method:"post",url:"/hot_topic",data:{cursor:c,limit:h}})}function ro(c){return ee({method:"post",url:"/rank",data:{day:c}})}const co=["onClick"],io={class:"flex items-center justify-between text-size-14px color-#333 font-400"},uo=o("div",{class:"flex-1"},null,-1),vo={class:"text-size-12px color-#999 font-400"},po={class:"flex items-center text-size-14px color-#999 font-400 mt-10px"},fo={class:"inline-flex items-center justify-start bg-#F8F8F8 border-rd-4px p-4px pr-10px font-400 text-size-12px mt-10px"},_o=["onClick"],ho=Q({__name:"activeList",props:{tableList:{}},setup(c){const h=new URL("/assets/icon-unknown-4090888e.svg",self.location).href;return(i,k)=>{const x=se;return d(!0),u(G,null,V(i.tableList,(e,t)=>(d(),u("li",{key:t,class:"van-hairline--bottom mb-10px pb-10px clickable",onClick:_($=>s(oe)(e==null?void 0:e.trader_id),["stop"])},[o("div",io,[p(x,{class:"w-24px h-24px mr-6px",round:"",src:(e==null?void 0:e.headurl)||s(h),"error-icon":s(h),"lazy-load":""},null,8,["src","error-icon"]),o("div",null,a(e.name),1),uo,o("div",vo,a(s(De)((e==null?void 0:e.time)||0,"MM-DD HH:mm:ss")),1)]),o("div",po,[o("span",{class:"text-size-10px border-rd-50% w-16px h-16px text-center lh-16px color-#fff mr-5px",style:q({background:(e==null?void 0:e.trade_type)===0?"var(--upColor)":"var(--downColor)"})},a((e==null?void 0:e.trade_type)===0?i.$t("buy"):i.$t("sell")),5),o("span",null,a((e==null?void 0:e.trade_type)===0?(e==null?void 0:e.to_symbol)||"":(e==null?void 0:e.from_symbol)||"")+" "+a((e==null?void 0:e.trade_type)===0?s(f)((e==null?void 0:e.from_amount)||0):s(f)((e==null?void 0:e.to_amount)||0))+"ï¼Œ"+a(i.$t("averagePrice"))+" $"+a(s(f)((e==null?void 0:e.average_price)||0))+", "+a(i.$t("real-timePositionAmount"))+" $"+a(s(f)((e==null?void 0:e.amount)||0)),1)]),o("div",fo,[o("span",null,a((e==null?void 0:e.trade_type)===0?(e==null?void 0:e.to_symbol)||"":(e==null?void 0:e.from_symbol)||""),1),(e==null?void 0:e.trade_type)===1?(d(),u("span",{key:0,style:q({color:(Number(e.earn)||0)>0?"var(--upColor)":"var(--downColor)"}),class:"ml-6px mr-23px"},a((e.earn||0)>0?"+":"")+a("$"+s(f)(e.earn||0)),5)):(d(),u("span",{key:1,style:q({color:(Number(e.earning)||0)>0?"var(--upColor)":"var(--downColor)"}),class:"ml-6px mr-23px"},a((e.earning||0)>0?"+":"")+a("$"+s(f)(e.earning||0)),5)),o("button",{class:"color-#3F80F7 clickable",type:"button",onClick:_($=>s(ke)((e==null?void 0:e.trader_id)||(e==null?void 0:e.address)||(e==null?void 0:e.genius_adress)||""),["stop"])},a(i.$t("followOrder")),9,_o)])],8,co))),128)}}}),xo=["onClick"],go={class:"flex items-center justify-between text-size-14px color-#333 font-400"},ko=o("div",{class:"flex-1"},null,-1),bo={class:"flex items-center justify-between text-size-14px color-#999 font-400 mt-10px"},$o={class:"flex items-center text-size-12px mt-5px"},yo={class:"mr-10px"},wo={class:"text-size-12px mt-14px font-400 w-100% lh-normal"},Co={class:"text-size-14px color-#333"},Lo={class:"text-size-12px color-#999999"},To={class:"flex items-center font-400 mt-12px"},zo={class:"text-size-12px color-#999"},So=o("div",{class:"flex-1"},null,-1),Io=Q({__name:"hotList",props:{tableList:{}},setup(c){const h=new URL("/assets/icon-unknown-4090888e.svg",self.location).href;return(i,k)=>{const x=se,e=Me;return d(!0),u(G,null,V(i.tableList,(t,$)=>{var y;return d(),u("li",{key:$,class:"van-hairline--bottom mb-14px pb-14px clickable",onClick:_(U=>s(oe)(t.id),["stop"])},[o("div",go,[p(x,{class:"w-24px h-24px mr-6px",round:"",src:(t==null?void 0:t.headurl)||s(h),"error-icon":s(h),"lazy-load":""},null,8,["src","error-icon"]),o("div",null,a((t==null?void 0:t.name)||(t==null?void 0:t.remark)||""),1),ko]),o("div",bo,[o("div",null,[o("div",{class:"text-size-15px",style:q({color:((t==null?void 0:t.earn_30_rate)||0)>=0?"var(--upColor)":"var(--downColor)"})},a(s(f)((t==null?void 0:t.earn_30_rate)||0))+"%",5),o("div",$o,[o("span",yo,a(i.$t("last30DaysYield")),1),o("span",null,a(i.$t("winRate"))+" "+a(s(f)((t==null?void 0:t.win_rate)||0))+"%",1)])]),t!=null&&t.earn_rate_chart&&((y=t==null?void 0:t.earn_rate_chart)==null?void 0:y.length)>0?(d(),m(be,{key:0,dataList:(t==null?void 0:t.earn_rate_chart)||[]},null,8,["dataList"])):Y("",!0)]),o("table",wo,[o("tr",Co,[o("td",null,"$"+a(s(f)((t==null?void 0:t.earn_copy_trade)||0)),1),o("td",null,"$"+a(s(f)((t==null?void 0:t.amount_copy_trade)||0)),1),o("td",null,a(s(f)((t==null?void 0:t.token_num)||0)),1)]),o("tr",Lo,[o("td",null,a(i.$t("followerBenefits")),1),o("td",null,a(i.$t("capitalScale")),1),o("td",null,a(i.$t("amountOfTokenWithOrder")),1)])]),o("div",To,[o("div",zo,a(s(f)((t==null?void 0:t.doc_count)||0))+" "+a(i.$t("peopleFollowOrder")),1),So,p(e,{class:"min-w-70px max-h-26px",type:"primary",onClick:_(U=>s(ke)((t==null?void 0:t.id)||(t==null?void 0:t.address)||(t==null?void 0:t.genius_adress)||""),["stop"])},{default:J(()=>[je(a(i.$t("followOrder")),1)]),_:2},1032,["onClick"])])],8,xo)}),128)}}}),R=c=>(Ye("data-v-dd0a8483"),c=c(),Je(),c),Fo={class:"home-container"},Ro={class:"pl-16px pr-16px"},Bo={class:"flex items-center justify-between"},Po={class:"flex items-center opacity-50"},Uo={key:0,class:"text-size-24px font-500 mt-5px"},Ao={key:1,class:"text-size-24px font-500 mt-5px"},Eo={key:1,class:"border-t-1px border-color-#fff w-50px"},No={class:"flex items-center justify-between mt-5px"},Oo={class:"flex items-center"},Do={class:"opacity-50"},jo={class:"ml-5px"},Mo={key:0,class:"p-16px"},Ho={key:0,class:"flex flex-col items-center color-#999 font-400 text-14px mt-80px"},Vo=R(()=>o("svg",{class:"iconpark-icon important-text-80px"},[o("use",{href:"#weikong"})],-1)),qo={class:"mb-14px"},Go={key:1,class:"p-16px"},Wo={class:"p-16px"},Yo={class:"flex justify-between items-center"},Jo={class:"bg-#F8F8F8 border-rd-4px text-14px font-400 color-#666 tabs"},Ko=["onClick"],Qo={class:"flex items-center text-12px color-#999 font-400"},Xo=R(()=>o("use",{href:"#tishi1"},null,-1)),Zo=[Xo],mo={class:"table-list"},es={class:"flex items-center"},os={class:"icon-sort-container"},ss=R(()=>o("use",{href:"#sort-up"},null,-1)),ns=[ss],ts=R(()=>o("use",{href:"#sort-down"},null,-1)),ls=[ts],as={class:"flex items-center"},rs={class:"icon-sort-container"},cs=R(()=>o("use",{href:"#sort-up"},null,-1)),ds=[cs],is=R(()=>o("use",{href:"#sort-down"},null,-1)),us=[is],vs={class:"flex items-center"},ps={class:"icon-sort-container"},fs=R(()=>o("use",{href:"#sort-up"},null,-1)),_s=[fs],hs=R(()=>o("use",{href:"#sort-down"},null,-1)),xs=[hs],gs=["onClick"],ks={class:"flex items-center text-size-14px color-#333 font-400"},bs=Q({__name:"home",setup(c){const h=He(),i=new URL("/assets/icon-unknown-4090888e.svg",self.location).href;let{t:k}=Ve(),x=v(!1),e=_e("homeTab","hot",sessionStorage),t=v([{title:k("active"),name:"active"},{title:k("hot"),name:"hot"},{title:k("awesomeList"),name:"rank"}]),$=v([]),y=v(0),U=v(10),T=v(!1),D=v(!1),I=v(!1);function g(){T.value=!0,lo({cursor:y.value,limit:U.value}).then(l=>{var F;let r=(l==null?void 0:l.request)||[];$.value=$.value.concat(r),r.length<U.value?D.value=!0:y.value=(l==null?void 0:l.next_cursor)||((F=r.at(-1))==null?void 0:F.id)}).catch(l=>{console.log(l),I.value=!0}).finally(()=>{T.value=!1})}let w=v([]),C=v(0),A=v(10),z=v(!1),X=v(!1),E=v(!1);function ne(){z.value=!0,ao({cursor:C.value,limit:A.value}).then(l=>{let r=(l==null?void 0:l.request)||[];w.value=w.value.concat(r),r.length<A.value?X.value=!0:C.value=(l==null?void 0:l.next_cursor)||C.value+1}).catch(l=>{console.log(l),E.value=!0}).finally(()=>{z.value=!1})}let N=_e("rankTabActive",1,sessionStorage),$e=v([{title:k("dailyList"),name:1},{title:k("weeklyList"),name:7},{title:k("overallList"),name:0}]);K(N,()=>{te()});let j=v([]),Z=v(!1);function te(){Z.value=!0,ro(N.value).then(l=>{j.value=(l==null?void 0:l.request)||[]}).catch(l=>{console.log(l)}).finally(()=>{Z.value=!1})}let b=v(0),L=v("");function S(l,r){r?b.value=r:L.value===l?(b.value++,b.value>1&&(b.value=-1)):b.value=1,L.value=l}let ye=qe(()=>{var l,r;return L.value===""||b.value===0?j.value:(r=(l=j.value)==null?void 0:l.slice())==null?void 0:r.sort((F,M)=>b.value*((F==null?void 0:F[L.value])||0)-b.value*((M==null?void 0:M[L.value])||0))});K(e,()=>{le()});function le(){e.value==="active"?(y.value=0,T.value=!1,I.value=!1,D.value=!1,$.value=[],g()):e.value==="hot"?(C.value=0,z.value=!1,E.value=!1,X.value=!1,w.value=[],ne()):e.value==="rank"&&te()}return ge(()=>{le()}),(l,r)=>{var re,ce,de,ie,ue,ve,pe;const F=Ge,M=me,we=Ze,ae=to,Ce=se,Le=Qe;return d(),u("div",Fo,[o("div",Ro,[o("div",{class:"bg-#3F80F7 border-rd-4px p-14px pt-11px pb-11px text-size-12px color-#fff font-400 clickable",onClick:r[1]||(r[1]=_(n=>s(h).push({name:"MyTrader"}),["stop"]))},[o("div",Bo,[o("div",null,[o("div",Po,[o("span",null,a(l.$t("totalFollowUpRevenue")),1),p(F,{class:"important-text-size-16px ml-5px clickable",name:s(x)?"closed-eye":"eye-o",onClick:r[0]||(r[0]=n=>B(x)?x.value=!s(x):x=!s(x))},null,8,["name"])]),s(x)?(d(),u("div",Ao,"****")):(d(),u("div",Uo,"$"+a(s(f)(((re=s(W)().userInfo)==null?void 0:re.earn)||0)),1))]),((de=(ce=s(W)().userInfo)==null?void 0:ce.earn_rate_chart)==null?void 0:de.length)>0?(d(),m(be,{key:0,dataList:((ie=s(W)().userInfo)==null?void 0:ie.earn_rate_chart)||[],color:"#ffffff"},null,8,["dataList"])):(d(),u("div",Eo))]),o("div",No,[o("div",null,a(l.$t("myFollowingOrders"))+" >",1),o("div",Oo,[o("span",Do,a(l.$t("todayIncome")),1),o("span",jo,"$"+a(s(f)(((ue=s(W)().userInfo)==null?void 0:ue.earn_today)||0)),1)])])])]),p(we,{active:s(e),"onUpdate:active":r[2]||(r[2]=n=>B(e)?e.value=n:e=n),shrink:"",class:"mt-5px tabs-container van-hairline--bottom"},{default:J(()=>[(d(!0),u(G,null,V(s(t),(n,H)=>(d(),m(M,{key:H,title:n.title,name:n.name},null,8,["title","name"]))),128))]),_:1},8,["active"]),s(e)==="active"?(d(),u("ul",Mo,[p(ae,{loading:s(T),"onUpdate:loading":r[3]||(r[3]=n=>B(T)?T.value=n:T=n),finished:s(D),"loading-text":l.$t("loading"),"finished-text":((ve=s($))==null?void 0:ve.length)===0?"":l.$t("noMore"),error:s(I),"onUpdate:error":r[4]||(r[4]=n=>B(I)?I.value=n:I=n),"error-text":l.$t("errorText"),onLoad:g},{default:J(()=>[p(ho,{tableList:s($)},null,8,["tableList"])]),_:1},8,["loading","finished","loading-text","finished-text","error","error-text"]),s($).length===0&&!s(T)?(d(),u("div",Ho,[Vo,o("div",null,a(l.$t("hasNoFollowOrder")),1),o("div",qo,a(l.$t("checkAwesomeAndFollow")),1)])):Y("",!0)])):Y("",!0),s(e)==="hot"?(d(),u("ul",Go,[p(ae,{loading:s(z),"onUpdate:loading":r[5]||(r[5]=n=>B(z)?z.value=n:z=n),finished:s(X),"loading-text":l.$t("loading"),"finished-text":((pe=s(w))==null?void 0:pe.length)===0?"":l.$t("noMore"),error:s(E),"onUpdate:error":r[6]||(r[6]=n=>B(E)?E.value=n:E=n),"error-text":l.$t("errorText"),onLoad:ne},{default:J(()=>[p(Io,{tableList:s(w)},null,8,["tableList"])]),_:1},8,["loading","finished","loading-text","finished-text","error","error-text"])])):Y("",!0),he(o("div",Wo,[o("div",Yo,[o("div",Jo,[(d(!0),u(G,null,V(s($e),(n,H)=>(d(),u("button",{key:H,onClick:_(Te=>B(N)?N.value=n.name:N=n.name,["stop"]),type:"button",class:P(["tab-item",{active:n.name===s(N)}])},a(n.title),11,Ko))),128))]),o("div",Qo,[o("span",null,a(l.$t("howToGetOnList")),1),(d(),u("svg",{class:"iconpark-icon ml-5px clickable",onClick:r[7]||(r[7]=n=>s(We)({title:l.$t("howToGetOnList"),confirmButtonText:l.$t("getIt"),message:l.$t("howToGetOnListTips")}))},Zo))])]),o("table",mo,[o("tr",null,[o("th",null,a(l.$t("awesomePeople")),1),o("th",{onClick:r[10]||(r[10]=_(n=>S("win_rates"),["stop"]))},[o("div",es,[o("div",null,a(l.$t("winRate")),1),o("div",os,[(d(),u("svg",{class:P(["iconpark-icon",{active:s(b)===1&&s(L)==="win_rates"}]),onClick:r[8]||(r[8]=_(n=>S("win_rates",1),["stop"]))},ns,2)),(d(),u("svg",{class:P(["iconpark-icon",{active:s(b)===-1&&s(L)==="win_rates"}]),onClick:r[9]||(r[9]=_(n=>S("win_rates",-1),["stop"]))},ls,2))])])]),o("th",{onClick:r[13]||(r[13]=_(n=>S("earns"),["stop"]))},[o("div",as,[o("div",null,a(l.$t("profitAndLossAmount")),1),o("div",rs,[(d(),u("svg",{class:P(["iconpark-icon",{active:s(b)===1&&s(L)==="earns"}]),onClick:r[11]||(r[11]=_(n=>S("earns",1),["stop"]))},ds,2)),(d(),u("svg",{class:P(["iconpark-icon",{active:s(b)===-1&&s(L)==="earns"}]),onClick:r[12]||(r[12]=_(n=>S("earns",-1),["stop"]))},us,2))])])]),o("th",{onClick:r[16]||(r[16]=_(n=>S("earn_rates"),["stop"]))},[o("div",vs,[o("div",null,a(l.$t("totalYield")),1),o("div",ps,[(d(),u("svg",{class:P(["iconpark-icon",{active:s(b)===1&&s(L)==="earn_rates"}]),onClick:r[14]||(r[14]=_(n=>S("earn_rates",1),["stop"]))},_s,2)),(d(),u("svg",{class:P(["iconpark-icon",{active:s(b)===-1&&s(L)==="earn_rates"}]),onClick:r[15]||(r[15]=_(n=>S("earn_rates",-1),["stop"]))},xs,2))])])])]),(d(!0),u(G,null,V(s(ye),(n,H)=>(d(),u("tr",{key:H,onClick:_(Te=>s(oe)(n==null?void 0:n.id),["stop"]),class:"clickable"},[o("td",null,[o("div",ks,[p(Ce,{class:"w-24px h-24px mr-6px",round:"",src:(n==null?void 0:n.headurl)||s(i),"error-icon":s(i),"lazy-load":""},null,8,["src","error-icon"]),o("div",null,a((n==null?void 0:n.name)||(n==null?void 0:n.remark)||""),1)])]),o("td",null,a(s(f)((n==null?void 0:n.win_rates)||0))+"%",1),o("td",null,a((n==null?void 0:n.earns)>0?"+":"")+"$"+a(s(f)((n==null?void 0:n.earns)||0)),1),o("td",{style:q({color:(n==null?void 0:n.earn_rates)>=0?"var(--upColor)":"var(--downColor)"})},a((n==null?void 0:n.earn_rates)>0?"+":"")+a(s(f)((n==null?void 0:n.earn_rates)||0))+"%",5)],8,gs))),128))]),he(p(Le,{class:"empty",description:l.$t("emptyData")},null,8,["description"]),[[xe,s(j)&&s(j).length===0&&!s(Z)]])],512),[[xe,s(e)==="rank"]])])}}});const Ls=Ke(bs,[["__scopeId","data-v-dd0a8483"]]);export{Ls as default};
